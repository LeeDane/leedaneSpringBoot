/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
(function(l,g){"object"===typeof exports&&"undefined"!==typeof module?g(exports,require("echarts")):"function"===typeof define&&define.amd?define(["exports","echarts"],g):g(l.dataTool={},l.echarts)})(this,function(l,g){function t(a,c,b){if(a&&c){if(a.map&&a.map===x)return a.map(c,b);for(var h=[],d=0,k=a.length;d<k;d++)h.push(c.call(b,a[d],d,a));return h}}function y(a){return a?t(n(a,"attribute"),function(a){return{id:a.getAttribute("id"),title:a.getAttribute("title"),type:a.getAttribute("type")}}):[]}function z(a,c){return a?t(n(a,"node"),function(a){var b=a.getAttribute("id"),d=a.getAttribute("label"),b={id:b,name:d,itemStyle:{normal:{}}},d=e(a,"viz:size"),k=e(a,"viz:position"),f=e(a,"viz:color");a=e(a,"attvalues");d&&(b.symbolSize=parseFloat(d.getAttribute("value")));k&&(b.x=parseFloat(k.getAttribute("x")),b.y=parseFloat(k.getAttribute("y")));f&&(b.itemStyle.normal.color="rgb("+[f.getAttribute("r")|0,f.getAttribute("g")|0,f.getAttribute("b")|0].join()+")");if(a)for(a=n(a,"attvalue"),b.attributes={},d=0;d<a.length;d++){var f=a[d],k=f.getAttribute("for"),f=f.getAttribute("value"),g=c[k];if(g){switch(g.type){case "integer":case "long":f=parseInt(f,10);break;case "float":case "double":f=parseFloat(f);break;case "boolean":f="true"===f.toLowerCase()}b.attributes[k]=f}}return b}):[]}function A(a){return a?t(n(a,"edge"),function(a){var b=a.getAttribute("id"),c=a.getAttribute("label"),d=a.getAttribute("source"),k=a.getAttribute("target"),b={id:b,name:c,source:d,target:k,lineStyle:{normal:{}}},c=b.lineStyle.normal,d=e(a,"viz:thickness");a=e(a,"viz:color");d&&(c.width=parseFloat(d.getAttribute("value")));a&&(c.color="rgb("+[a.getAttribute("r")|0,a.getAttribute("g")|0,a.getAttribute("b")|0].join()+")");return b}):[]}function e(a,c){for(var b=a.firstChild;b;)if(1!==b.nodeType||b.nodeName.toLowerCase()!==c.toLowerCase())b=b.nextSibling;else return b;return null}function n(a,c){for(var b=a.firstChild,h=[];b;)b.nodeName.toLowerCase()===c.toLowerCase()&&h.push(b),b=b.nextSibling;return h}function B(a){a.sort(function(a,b){return a-b});return a}function u(a,c){var b=(a.length-1)*c+1,h=Math.floor(b),d=+a[h-1];return(b-=h)?d+b*(a[h]-d):d}var x=Array.prototype.map,v=(Object.freeze||Object)({parse:function(a){a="string"===typeof a?(new DOMParser).parseFromString(a,"text/xml"):a;if(!a||a.getElementsByTagName("parsererror").length)return null;a=e(a,"gexf");if(!a)return null;a=e(a,"graph");for(var c=y(e(a,"attributes")),b={},h=0;h<c.length;h++)b[c[h].id]=c[h];return{nodes:z(e(a,"nodes"),b),links:A(e(a,"edges"))}}}),w=function(a,c){c=c||[];for(var b=[],h=[],d=[],k=c.boundIQR,f="none"===k||0===k,g=0;g<a.length;g++){d.push(g+"");var e=B(a[g].slice()),p=u(e,.25),m=u(e,.5),l=u(e,.75),q=e[0],r=e[e.length-1],n=(null==k?1.5:k)*(l-p),q=f?q:Math.max(q,p-n),r=f?r:Math.min(r,l+n);b.push([q,p,m,l,r]);for(p=0;p<e.length;p++)if(m=e[p],m<q||m>r)m=[g,m],"vertical"===c.layout&&m.reverse(),h.push(m)}return{boxData:b,outliers:h,axisData:d}};g.dataTool&&(g.dataTool.version="1.0.0",g.dataTool.gexf=v,g.dataTool.prepareBoxplotData=w);l.version="1.0.0";l.gexf=v;l.prepareBoxplotData=w});