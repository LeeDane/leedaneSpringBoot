/**
 * 初始化点击复制事件
 */
function initClipBoard(){var a=new Clipboard(".layui-btn");a.on("success",function(a){layer.tips("\u5df2\u590d\u5236\u6210\u529f","#"+a.trigger.previousSibling.id,{time:1E3})});a.on("error",function(a){layer.tips("\u590d\u5236\u5931\u8d25","#"+a.trigger.previousSibling.id,{time:1E3})})}function buildShareLink(a){var b=600<$(window).width(),c=b?"420px":$(window).width()+"px";b?loadShareLink(a,c):layer.confirm('\u7cfb\u7edf\u68c0\u6d4b\u5230\u60a8\u5f53\u524d\u53ef\u80fd\u662f\u4f7f\u7528\u79fb\u52a8\u8bbe\u5907\uff0c\u6b64\u5904\u5206\u4eab\u7684\u94fe\u63a5\x3cfont color\x3d"red"\x3e\u53ef\u80fd\u65e0\u6cd5\u5728\u79fb\u52a8\u7aef\x3c/font\x3e\u76f4\u63a5\u6253\u5f00\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u6709\u5fc5\u8981\u7ee7\u7eed\u64cd\u4f5c\uff1f',{btn:["\u7ee7\u7eed\u83b7\u53d6","\u53d6\u6d88"]},function(){layer.closeAll("dialog");loadShareLink(a,c)},function(){layer.msg("\u60a8\u5df2\u53d6\u6d88\uff0c\u6b22\u8fce\u60a8\u6362\u5230\u7535\u8111\u7aef\u518d\u8fdb\u884c\u83b7\u53d6\u5206\u4eab\u8be5\u5546\u54c1\u94fe\u63a5\u64cd\u4f5c\uff01")})}function loadShareLink(a,b){var c=layer.load("\u52aa\u529b\u52a0\u8f7d\u4e2d\u2026");$.ajax({type:"get",url:"/mall/taobao/build/share/link?taobaoId\x3d"+a+"\x26t\x3d"+Math.random(),dataType:"json",success:function(a){layer.close(c);a.isSuccess?layer.open({type:1,title:"\u751f\u6210\u5206\u4eab\u94fe\u63a5",skin:"layui-layer-rim",area:[b,"360px"],content:buildTaobaoShareContent(a.message)}):ajaxError(a)},error:function(a){layer.close(c);ajaxError(a)}})}function buildTaobaoShareContent(a){var b='\x3cdiv class\x3d"layui-tab layui-tab-brief" lay-filter\x3d"shareLinkBrief"\x3e\x3cul class\x3d"layui-tab-title"\x3e\x3cli class\x3d"layui-this" id\x3d"li-short"\x3e\u77ed\u94fe\u63a5\x3c/li\x3e\x3cli id\x3d"li-long"\x3e\u957f\u94fe\u63a5\x3c/li\x3e\x3cli id\x3d"li-qr"\x3e\u4e8c\u7ef4\u7801\x3c/li\x3e\x3cli id\x3d"li-token"\x3e\u6dd8\u53e3\u4ee4\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"layui-tab-content tab-share-content"\x3e\x3cdiv class\x3d"layui-tab-item layui-show" id\x3d"tab-content-share"\x3e\x3col\x3e\x3cli\x3e\u8be5\u94fe\u63a5\u53ef\u80fd\u65e0\u6cd5\u5728\u79fb\u52a8\u8bbe\u5907\u4e0a\u6253\u5f00\x3c/li\x3e\x3cli\x3e\u5982\u60a8\u63a8\u5e7f\u7684\u662f\u822a\u65c5\u7684\u5f53\u9762\u4ed8\u3001\u706b\u8f66\u7968\u6216\u8005\u7406\u8d22\u4fdd\u9669\u7c7b\u5546\u54c1\uff0c\u5c06\u65e0\u6cd5\u83b7\u5f97\u4f63\u91d1\u3002\x3c/li\x3e\x3cli\x3e\u77ed\u94fe\u63a5\u53ea\u6709300\u5929\u7684\u6709\u6548\u671f\uff0c\u8fc7\u671f\u5931\u6548\u9700\u8981\u91cd\u65b0\u83b7\u53d6\u3002\x3c/li\x3e\x3cli\x3e\u8bf7\u52ff\u5c06\u6b64\u63a8\u5e7f\u94fe\u63a5\u6253\u5f00\u540e\u518d\u53d1\u9001\u7ed9\u7528\u6237\uff0c\u5426\u5219\u65e0\u6cd5\u8ddf\u8e2a\u3002\x3c/li\x3e\x3cli\x3e\u82e5\u8ba2\u5355\u4f7f\u7528\u7ea2\u5305\u6216\u8d2d\u7269\u5238\u540e\u4f63\u91d1\u6709\u53ef\u80fd\u652f\u4ed8\u7ed9\u7ea2\u5305\u63a8\u5e7f\u8005\uff0c\u5982\u60a8\u662f\u81ea\u63a8\u81ea\u4e70\uff0c\u8bf7\u52ff\u4f7f\u7528\u7ea2\u5305\u53ca\u8d2d\u7269\u5238\u3002\x3c/li\x3e\x3col\x3e';isNotEmpty(a.shortLinkUrl)&&(b+='\x3cdiv\x3e\x3clabel style\x3d"font-weight: 400; line-height: 20px;"\x3e\u5546\u54c1\u94fe\u63a5\uff1a\x3c/label\x3e\x3cinput id\x3d"shortLinkUrl" type\x3d"text" class\x3d"tab-share-input tab-share-input-link" readonly\x3d"readonly" value\x3d"'+a.shortLinkUrl+'"\x3e\x3cbutton class\x3d"layui-btn layui-btn-danger" data-clipboard-action\x3d"copy" data-clipboard-target\x3d"#shortLinkUrl"\x3e\u590d\u5236\u94fe\u63a5\x3c/button\x3e\x3cbutton class\x3d"layui-btn layui-btn-danger" onclick\x3d"openLink(\''+a.shortLinkUrl+"');\"\x3e\u8df3\u8f6c\x3c/button\x3e\x3c/div\x3e");isNotEmpty(a.couponShortLinkUrl)&&(b+='\x3cdiv style\x3d"margin-top: 5px;"\x3e\x3clabel style\x3d"font-weight: 400; line-height: 20px;"\x3e\u9886\u5238\u94fe\u63a5\uff1a\x3c/label\x3e\x3cinput id\x3d"couponShortLinkUrl" type\x3d"text" class\x3d"tab-share-input tab-share-input-link" readonly\x3d"readonly" value\x3d"'+a.couponShortLinkUrl+'"\x3e\x3cbutton class\x3d"layui-btn layui-btn-danger" data-clipboard-action\x3d"copy" data-clipboard-target\x3d"#couponShortLinkUrl"\x3e\u590d\u5236\u94fe\u63a5\x3c/button\x3e\x3cbutton class\x3d"layui-btn layui-btn-danger" onclick\x3d"openLink(\''+a.couponShortLinkUrl+"');\"\x3e\u8df3\u8f6c\x3c/button\x3e\x3c/div\x3e");b+='\x3c/div\x3e\x3cdiv class\x3d"layui-tab-item"\x3e\x3col\x3e\x3cli\x3e\u8be5\u94fe\u63a5\u53ef\u80fd\u65e0\u6cd5\u5728\u79fb\u52a8\u8bbe\u5907\u4e0a\u6253\u5f00\x3c/li\x3e\x3cli\x3e\u5982\u60a8\u63a8\u5e7f\u7684\u662f\u822a\u65c5\u7684\u5f53\u9762\u4ed8\u3001\u706b\u8f66\u7968\u6216\u8005\u7406\u8d22\u4fdd\u9669\u7c7b\u5546\u54c1\uff0c\u5c06\u65e0\u6cd5\u83b7\u5f97\u4f63\u91d1\u3002\x3c/li\x3e\x3cli\x3e\u8bf7\u52ff\u5c06\u6b64\u63a8\u5e7f\u94fe\u63a5\u6253\u5f00\u540e\u518d\u53d1\u9001\u7ed9\u7528\u6237\uff0c\u5426\u5219\u65e0\u6cd5\u8ddf\u8e2a\u3002\x3c/li\x3e\x3cli\x3e\u82e5\u8ba2\u5355\u4f7f\u7528\u7ea2\u5305\u6216\u8d2d\u7269\u5238\u540e\u4f63\u91d1\u6709\u53ef\u80fd\u652f\u4ed8\u7ed9\u7ea2\u5305\u63a8\u5e7f\u8005\uff0c\u5982\u60a8\u662f\u81ea\u63a8\u81ea\u4e70\uff0c\u8bf7\u52ff\u4f7f\u7528\u7ea2\u5305\u53ca\u8d2d\u7269\u5238\u3002\x3c/li\x3e\x3col\x3e';isNotEmpty(a.clickUrl)&&(b+='\x3cdiv\x3e\x3clabel style\x3d"font-weight: 400; line-height: 20px;"\x3e\u5546\u54c1\u94fe\u63a5\uff1a\x3c/label\x3e\x3cinput id\x3d"clickUrl" type\x3d"text" class\x3d"tab-share-input tab-share-input-link" readonly\x3d"readonly" value\x3d"'+a.clickUrl+'"\x3e\x3cbutton class\x3d"layui-btn layui-btn-danger" data-clipboard-action\x3d"copy" data-clipboard-target\x3d"#clickUrl"\x3e\u590d\u5236\u94fe\u63a5\x3c/button\x3e\x3cbutton class\x3d"layui-btn layui-btn-danger" onclick\x3d"openLink(\''+a.clickUrl+"');\"\x3e\u8df3\u8f6c\x3c/button\x3e\x3c/div\x3e");isNotEmpty(a.couponLink)&&(b+='\x3cdiv\x3e\x3clabel style\x3d"font-weight: 400; line-height: 20px;"\x3e\u9886\u5238\u94fe\u63a5\uff1a\x3c/label\x3e\x3cinput id\x3d"couponLink" type\x3d"text" class\x3d"tab-share-input tab-share-input-link" readonly\x3d"readonly" value\x3d"'+a.couponLink+'"\x3e\x3cbutton class\x3d"layui-btn layui-btn-danger" data-clipboard-action\x3d"copy" data-clipboard-target\x3d"#couponLink"\x3e\u590d\u5236\u94fe\u63a5\x3c/button\x3e\x3cbutton class\x3d"layui-btn layui-btn-danger" onclick\x3d"openLink(\''+a.couponLink+"');\"\x3e\u8df3\u8f6c\x3c/button\x3e\x3c/div\x3e");b+='\x3c/div\x3e\x3cdiv class\x3d"layui-tab-item"\x3e\x3col\x3e\x3cli\x3e\u8be5\u94fe\u63a5\u53ef\u80fd\u65e0\u6cd5\u5728\u79fb\u52a8\u8bbe\u5907\u4e0a\u6253\u5f00\x3c/li\x3e\x3cli\x3e\u5982\u60a8\u63a8\u5e7f\u7684\u662f\u822a\u65c5\u7684\u5f53\u9762\u4ed8\u3001\u706b\u8f66\u7968\u6216\u8005\u7406\u8d22\u4fdd\u9669\u7c7b\u5546\u54c1\uff0c\u5c06\u65e0\u6cd5\u83b7\u5f97\u4f63\u91d1\u3002\x3c/li\x3e\x3cli\x3e\u4e8c\u7ef4\u7801\u662f\u7531\u77ed\u94fe\u63a5\u8f6c\u6362\u800c\u6765\uff0c\u53ea\u6709300\u5929\u7684\u6709\u6548\u671f\uff0c\u8fc7\u671f\u5931\u6548\u9700\u8981\u91cd\u65b0\u83b7\u53d6\u3002\x3c/li\x3e\x3cli\x3e\u82e5\u8ba2\u5355\u4f7f\u7528\u7ea2\u5305\u6216\u8d2d\u7269\u5238\u540e\u4f63\u91d1\u6709\u53ef\u80fd\u652f\u4ed8\u7ed9\u7ea2\u5305\u63a8\u5e7f\u8005\uff0c\u5982\u60a8\u662f\u81ea\u63a8\u81ea\u4e70\uff0c\u8bf7\u52ff\u4f7f\u7528\u7ea2\u5305\u53ca\u8d2d\u7269\u5238\u3002\x3c/li\x3e\x3col\x3e';isNotEmpty(a.qrCodeUrl)&&(b+='\x3cdiv style\x3d"text-align: center;"\x3e\x3cimg src\x3d"'+a.qrCodeUrl+'" style\x3d"width: 100px; height: 100px;"/\x3e\x3c/div\x3e');b+='\x3c/div\x3e\x3cdiv class\x3d"layui-tab-item"\x3e\x3col\x3e\x3cli\x3e\u8be5\u94fe\u63a5\u53ef\u80fd\u65e0\u6cd5\u5728\u79fb\u52a8\u8bbe\u5907\u4e0a\u6253\u5f00\x3c/li\x3e\x3cli\x3e\u5982\u60a8\u63a8\u5e7f\u7684\u662f\u822a\u65c5\u7684\u5f53\u9762\u4ed8\u3001\u706b\u8f66\u7968\u6216\u8005\u7406\u8d22\u4fdd\u9669\u7c7b\u5546\u54c1\uff0c\u5c06\u65e0\u6cd5\u83b7\u5f97\u4f63\u91d1\u3002\x3c/li\x3e\x3cli\x3e\u6dd8\u53e3\u4ee4\u53ea\u670930\u5929\u7684\u6709\u6548\u671f\uff0c\u8fc7\u671f\u5931\u6548\u9700\u8981\u91cd\u65b0\u83b7\u53d6\u3002\x3c/li\x3e\x3cli\x3e\u82e5\u8ba2\u5355\u4f7f\u7528\u7ea2\u5305\u6216\u8d2d\u7269\u5238\u540e\u4f63\u91d1\u6709\u53ef\u80fd\u652f\u4ed8\u7ed9\u7ea2\u5305\u63a8\u5e7f\u8005\uff0c\u5982\u60a8\u662f\u81ea\u63a8\u81ea\u4e70\uff0c\u8bf7\u52ff\u4f7f\u7528\u7ea2\u5305\u53ca\u8d2d\u7269\u5238\u3002\x3c/li\x3e\x3col\x3e';isNotEmpty(a.taoToken)&&(b+='\x3cdiv\x3e\x3clabel style\x3d"font-weight: 400; line-height: 20px;"\x3e\u5546\u54c1\u53e3\u4ee4\uff1a\x3c/label\x3e\x3cinput id\x3d"taoToken" type\x3d"text" class\x3d"tab-share-input" readonly\x3d"readonly" value\x3d"'+a.taoToken+'"\x3e\x3cbutton class\x3d"layui-btn layui-btn-danger" data-clipboard-action\x3d"copy" data-clipboard-target\x3d"#taoToken"\x3e\u590d\u5236\u53e3\u4ee4\x3c/button\x3e\x3c/div\x3e');isNotEmpty(a.couponLinkTaoToken)&&(b+='\x3cdiv\x3e\x3clabel style\x3d"font-weight: 400; line-height: 20px;"\x3e\u9886\u5238\u53e3\u4ee4\uff1a\x3c/label\x3e\x3cinput id\x3d"couponLinkTaoToken" type\x3d"text" class\x3d"tab-share-input" value\x3d"'+a.couponLinkTaoToken+'"\x3e\x3cbutton class\x3d"layui-btn layui-btn-danger" data-clipboard-action\x3d"copy" data-clipboard-target\x3d"#couponLinkTaoToken"\x3e\u590d\u5236\u53e3\u4ee4\x3c/button\x3e\x3c/div\x3e');return b+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e "};