layui.use(["layer","laydate","util"],function(){layer=layui.layer;laydate=layui.laydate;util=layui.util;$(".navbar-nav .nav-main-li").each(function(){$(this).removeClass("active")});$(".nav-stock").addClass("active");var d=$(window).width();900>d&&($aa=$(".laydate-theme-molv .layui-laydate-main"),$aa.attr("max-width",d-20+"px!important"));$stocksContrainer=$("#stocks-contrainer");init();$(".stock-operate-btn").click(function(){var c={},b=!0;$("#stockForm").find(".form-control").each(function(a){a=$(this).attr("name");var e=$(this).attr("empty");if(e&&"false"==e&&isEmpty($(this).val()))return $(this).focus(),layer.msg($(this).attr("placeholder")),b=!1;c[a]=$(this).val()});if(b){var a=$(this).closest("#stock-operate").find("#stockForm").attr("data-id"),a=a&&0<=parseInt(a)?parseInt(a):0;0<a&&(c.id=a);c.modify_time=c.modify_time_date+" "+c.modify_time+":00";var e=layer.load("\u52aa\u529b\u52a0\u8f7d\u4e2d\u2026");$.ajax({type:0<a?"PUT":"post",data:c,url:0<a?"/stock/"+a:"/stock/add",dataType:"json",beforeSend:function(){},success:function(b){layer.close(e);layer.msg(b.message);b.isSuccess&&(0<a?window.location.reload():window.open("/stock","_self"))},error:function(b){layer.close(e);layer.msg("\u7f51\u7edc\u8bf7\u6c42\u5931\u8d25")}})}});$(".stock-buy-operate-btn").click(function(){var c={},b=!0;$("#stockBuyForm").find(".form-control").each(function(a){a=$(this).attr("name");var e=$(this).attr("empty");if(e&&"false"==e&&isEmpty($(this).val()))return $(this).focus(),layer.msg($(this).attr("placeholder")),b=!1;c[a]=$(this).val()});if(b){var a=$(this).closest("#stock-buy-operate").find("#stockBuyForm").attr("stock-id"),e=$(this).closest("#stock-buy-operate").find("#stockBuyForm").attr("stock-buy-id"),e=e&&0<=parseInt(e)?parseInt(e):0;0<e&&(c.id=e);c.modify_time=c.modify_time_date+" "+c.modify_time+":00";c.stock_id=a;var d=layer.load("\u52aa\u529b\u52a0\u8f7d\u4e2d\u2026");$.ajax({type:0<e?"PUT":"post",data:c,url:0<e?"/stock/"+a+"/buy/"+e:"/stock/"+a+"/buy/add",dataType:"json",beforeSend:function(){},success:function(a){layer.close(d);layer.msg(a.message);a.isSuccess&&(0<e?window.location.reload():window.open("/stock","_self"))},error:function(a){layer.close(d);layer.msg("\u7f51\u7edc\u8bf7\u6c42\u5931\u8d25")}})}});$(".stock-sell-operate-btn").click(function(){var c={},b=!0;$("#stockSellForm").find(".form-control").each(function(a){a=$(this).attr("name");var e=$(this).attr("empty");if(e&&"false"==e&&isEmpty($(this).val()))return $(this).focus(),layer.msg($(this).attr("placeholder")),b=!1;c[a]=$(this).val()});if(b){var a=$(this).closest("#stock-sell-operate").find("#stockSellForm").attr("stock-id"),e=$(this).closest("#stock-sell-operate").find("#stockSellForm").attr("stock-buy-id"),d=$(this).closest("#stock-sell-operate").find("#stockSellForm").attr("stock-sell-id"),d=d&&0<=parseInt(d)?parseInt(d):0;0<d&&(c.id=d);c.modify_time=c.modify_time_date+" "+c.modify_time+":00";c.stock_id=a;c.stock_buy_id=e;var g=layer.load("\u52aa\u529b\u52a0\u8f7d\u4e2d\u2026");$.ajax({type:0<d?"PUT":"post",data:c,url:0<d?"/stock/"+a+"/buy/"+e+"/sell/"+d:"/stock/"+a+"/buy/"+e+"/sell/add",dataType:"json",beforeSend:function(){},success:function(a){layer.close(g);layer.msg(a.message);a.isSuccess&&(0<d?window.location.reload():window.open("/stock","_self"))},error:function(a){layer.close(g);layer.msg("\u7f51\u7edc\u8bf7\u6c42\u5931\u8d25")}})}})});var $stocksContrainer,initData;function init(){$.ajax({url:"/stock/init?t\x3d"+Math.random(),dataType:"json",beforeSend:function(){},success:function(d){if(d.isSuccess)if(0==d.message.length)$stocksContrainer.append("\u8bf7\u5148\u6dfb\u52a0\u4e00\u652f\u80a1\u7968\uff01");else{initData=d.message;for(var c="",b=0;b<d.message.length;b++){for(var a=d.message[b],c=c+('\x3cdiv class\x3d"col-lg-12 col-sm-12 col-md-12 col-xs-12"\x3e\x3cfieldset\x3e\x3clegend onclick\x3d"stockClick(this);"\x3e'+a.name+"("+a.code+")\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x3csmall\x3e"+a.time+"\x26nbsp;\x26nbsp;\u6301\u4ed3"+a.holding+'\x3c/small\x3e\x3cbutton type\x3d"button" onclick\x3d"stockBuyAdd(this, event, '+b+', -1);" class\x3d"btn btn-xs" style\x3d"margin-left: 10px;"\x3e\x3cspan class\x3d"glyphicon glyphicon-plus-sign" aria-hidden\x3d"true"\x3e\x3c/span\x3e  \u8d2d\u4e70\x3c/button\x3e\x3cbutton type\x3d"button" onclick\x3d"stockEdit(this, event, '+b+');" class\x3d"btn btn-info btn-xs operate-button" style\x3d"margin-left: 10px;"\x3e\x3cspan class\x3d"glyphicon glyphicon-edit" aria-hidden\x3d"true"\x3e\x3c/span\x3e  \u7f16\u8f91\x3c/button\x3e\x3cbutton type\x3d"button" onclick\x3d"stockDelete(this, event, '+a.id+');" class\x3d"btn btn-danger btn-xs operate-button" style\x3d"margin-left: 10px;"\x3e\x3cspan class\x3d"glyphicon glyphicon-trash" aria-hidden\x3d"true"\x3e\x3c/span\x3e  \u5220\u9664\x3c/button\x3e\x3c/legend\x3e\x3cdiv '+(0<b?'style\x3d"display:none"':"")+'\x3e\x3cdiv class\x3d""\x3e\x3ctable class\x3d"layui-table" data-id\x3d"'+a.id+'"\x3e\x3ccolgroup\x3e\x3ccol width\x3d"150" /\x3e\x3ccol width\x3d"150" /\x3e\x3ccol width\x3d"150" /\x3e\x3ccol width\x3d"150" /\x3e\x3ccol width\x3d"150" /\x3e\x3ccol /\x3e\x3c/colgroup\x3e\x3cthead\x3e\x3ctr\x3e\x3cth\x3e\u4e70\u5165(\u80a1)\x3c/th\x3e\x3cth\x3e\u6301\u80a1\u6570\x3c/th\x3e\x3cth\x3e\u4e70\u5165\u5355\u4ef7(\u5143)\x3c/th\x3e\x3cth\x3e\u4e70\u5165\u65f6\u95f4\x3c/th\x3e\x3cth\x3e\u64cd\u4f5c\u65f6\u95f4\x3c/th\x3e\x3cth\x3e\u64cd\u4f5c\x3c/th\x3e\x3c/tr\x3e \x3c/thead\x3e\x3ctbody\x3e'),e=0;e<a.buys.length;e++){for(var f=a.buys[e],c=c+('\x3ctr onclick\x3d"buyLineClick(this);" style\x3d"cursor: pointer;"\x3e\x3ctd\x3e'+f.number+"\x3c/td\x3e\x3ctd\x3e"+f.holding+"\x3c/td\x3e\x3ctd\x3e"+f.price+"\x3c/td\x3e\x3ctd\x3e"+f.time+"\x3c/td\x3e\x3ctd\x3e"+f.createTime+"\x3c/td\x3e\x3ctd\x3e"+(f.sellOut?"":'\x3cbutton type\x3d"button" class\x3d"btn btn-xs operate-button" onclick\x3d"stockSellAdd(this, event, '+b+","+e+', -1);" style\x3d"margin-left: 10px;"\x3e\x3cspan class\x3d"glyphicon glyphicon-plus-sign" aria-hidden\x3d"true"\x3e\x3c/span\x3e  \u5356\u51fa\x3c/button\x3e')+'\x3cbutton type\x3d"button" onclick\x3d"stockBuyEdit(this, event, '+b+", "+e+');" class\x3d"btn btn-info btn-xs operate-button" style\x3d"margin-left: 10px;"\x3e\x3cspan class\x3d"glyphicon glyphicon-edit" aria-hidden\x3d"true"\x3e\x3c/span\x3e  \u7f16\u8f91\x3c/button\x3e\x3cbutton type\x3d"button" onclick\x3d"stockBuyDelete(this, event, '+a.id+", "+f.id+');" class\x3d"btn btn-danger btn-xs operate-button" style\x3d"margin-left: 10px;"\x3e\x3cspan class\x3d"glyphicon glyphicon-trash" aria-hidden\x3d"true"\x3e\x3c/span\x3e  \u5220\u9664\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr class\x3d"sell-contrainer" '+(0==b&&0==e?"":'style\x3d"display: none;"')+'\x3e\x3ctd colspan\x3d"6"\x3e\x3ctable class\x3d"layui-table" lay-skin\x3d"line" data-id\x3d"'+f.id+'"\x3e\x3ccolgroup\x3e\x3ccol width\x3d"150" /\x3e\x3ccol width\x3d"150" /\x3e\x3ccol width\x3d"150" /\x3e\x3ccol width\x3d"150" /\x3e\x3ccol width\x3d"150" /\x3e\x3ccol /\x3e\x3c/colgroup\x3e\x3cthead\x3e\x3ctr style\x3d"background-color: #d9edf7!important;"\x3e\x3cth\x3e\u5356\u51fa(\u80a1)\x3c/th\x3e\x3cth\x3e\u5355\u4ef7(\u5143)\x3c/th\x3e\x3cth\x3e\u662f\u5426\u8d5a\u94b1\x3c/th\x3e\x3cth\x3e\u5356\u51fa\u65f6\u95f4\x3c/th\x3e\x3cth\x3e\u64cd\u4f5c\u65f6\u95f4\x3c/th\x3e\x3cth\x3e\u64cd\u4f5c\x3c/th\x3e\x3c/tr\x3e \x3c/thead\x3e\x3ctbody\x3e'),g=0;g<f.sells.length;g++)var h=f.sells[g],c=c+("\x3ctr\x3e\x3ctd\x3e"+h.number+"\x3c/td\x3e\x3ctd\x3e"+h.price+'\x3c/td\x3e\x3ctd\x3e\x3cfont color\x3d"red"\x3e'+(h.price>f.price?"\u8d5a\u94b1":"\u4e8f\u635f")+"\x3c/font\x3e\x3c/td\x3e\x3ctd\x3e"+h.time+"\x3c/td\x3e\x3ctd\x3e"+h.createTime+'\x3c/td\x3e\x3ctd\x3e\x3cbutton type\x3d"button" onclick\x3d"stockSellEdit(this, event, '+b+","+e+","+g+');" class\x3d"btn btn-info btn-xs operate-button" style\x3d"margin-left: 10px;"\x3e\x3cspan class\x3d"glyphicon glyphicon-edit" aria-hidden\x3d"true"\x3e\x3c/span\x3e  \u7f16\u8f91\x3c/button\x3e\x3cbutton type\x3d"button" onclick\x3d"stockSellDelete(this, event, '+a.id+", "+f.id+", "+h.id+');" class\x3d"btn btn-danger btn-xs operate-button" style\x3d"margin-left: 10px;"\x3e\x3cspan class\x3d"glyphicon glyphicon-trash" aria-hidden\x3d"true"\x3e\x3c/span\x3e  \u5220\u9664\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e');c+="\x3c/tbody\x3e\x3c/table\x3e\x3c/td\x3e\x3c/tr\x3e"}c+="\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e\x3c/div\x3e\x3c/fieldset\x3e\x3c/div\x3e"}$stocksContrainer.html(c)}else ajaxError(d)},error:function(d){ajaxError(d)}})}function addStock(d,c,b){d=(new Date).Format("yyyy-MM-dd");var a=(new Date).Format("HH:mm");stopEventClick(c);b=(c=0<=b)?initData[b]:null;b='\x3cform role\x3d"form" id\x3d"stockForm" data-id\x3d"'+(c?b.id:0)+'"\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel \x3e\u80a1\u7968\u540d\u79f0\x3cspan style\x3d"font-size: 10px;"\x3e\x3cfont color\x3d"red"\x3e*\x3c/font\x3e\u5fc5\u586b\x3c/span\x3e\x3c/label\x3e\x3cinput empty\x3d"false" type\x3d"text" class\x3d"form-control" name\x3d"name" placeholder\x3d"\u8bf7\u8f93\u5165\u80a1\u7968\u540d\u79f0" value\x3d"'+changeNotNullString(null!=b?b.name:"")+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel \x3e\u80a1\u7968\u4ee3\u7801\x3cspan style\x3d"font-size: 10px;"\x3e\x3cfont color\x3d"red"\x3e*\x3c/font\x3e\u5fc5\u586b\x3c/span\x3e\x3c/label\x3e\x3cinput empty\x3d"false" type\x3d"number" class\x3d"form-control" name\x3d"code" placeholder\x3d"\u8bf7\u8f93\u5165\u80a1\u7968\u4ee3\u7801" value\x3d"'+changeNotNullString(null!=b?b.code:"")+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel for\x3d"birth_day"\x3e\u8d2d\u4e70\u80a1\u7968\u65f6\u95f4\x3cspan style\x3d"font-size: 10px;"\x3e\x3cfont color\x3d"red"\x3e*\x3c/font\x3e\u5fc5\u586b\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"col-lg-12 col-sm-12 col-md-12 col-xs-12"\x3e\x3cdiv class\x3d"col-lg-6 col-sm-6 col-md-6 col-xs-6"\x3e\x3cinput empty\x3d"false" placeholder\x3d"\u8bf7\u5148\u9009\u62e9\u8d2d\u4e70\u65e5\u671f" type\x3d"date" class\x3d"form-control col-lg-4 col-sm-4 col-md-4 col-xs-4"  name\x3d"modify_time_date" value\x3d"'+changeNotNullString(null!=b?b.modityDate:d)+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"col-lg-6 col-sm-6 col-md-6 col-xs-6"\x3e\x3cinput empty\x3d"false" placeholder\x3d"\u8bf7\u5148\u9009\u62e9\u8d2d\u4e70\u65f6\u95f4" type\x3d"time" class\x3d"form-control col-lg-4 col-sm-4 col-md-4 col-xs-4" name\x3d"modify_time" value\x3d"'+changeNotNullString(null!=b?b.modityTime:a)+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form';$(".modal-body-stock-operate").html(b);$("#stock-operate").modal("show")}function stockEdit(d,c,b){stopEventClick(c);addStock(d,c,b)}function stockDelete(d,c,b){stopEventClick(c);layer.confirm("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8be5\u80a1\u7968\u5417\uff1f\u6b64\u662f\u4e0d\u53ef\u9006\u884c\u4e3a\uff0c\u8bf7\u614e\u91cd!",{btn:["\u786e\u5b9a","\u70b9\u9519\u4e86"]},function(){var a=layer.load("\u52aa\u529b\u52a0\u8f7d\u4e2d\u2026");$.ajax({type:"DELETE",url:"/stock/"+b,dataType:"json",beforeSend:function(){},success:function(b){layer.close(a);null!=b&&b.isSuccess?(layer.msg(b.message),window.location.reload()):ajaxError(b);console.log(b)},error:function(b){layer.close(a);ajaxError(b)}})},function(){})}function stockBuyAdd(d,c,b,a){stopEventClick(c);d=(new Date).Format("yyyy-MM-dd");c=(new Date).Format("HH:mm");b=parseInt(b);var e=0<=a;a=e?initData[b].buys[a]:null;b='\x3cform role\x3d"form" id\x3d"stockBuyForm" stock-buy-id\x3d"'+(e?a.id:0)+'" stock-id\x3d"'+initData[b].id+'"\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel \x3e\u4e70\u5165\u6570\u91cf(\u80a1)\x3cspan style\x3d"font-size: 10px;"\x3e\x3cfont color\x3d"red"\x3e*\x3c/font\x3e\u5fc5\u586b\x3c/span\x3e\x3c/label\x3e\x3cinput empty\x3d"false" type\x3d"text" class\x3d"form-control" name\x3d"number" placeholder\x3d"\u8bf7\u8f93\u5165\u80a1\u7968\u4e70\u5165\u6570\u91cf" value\x3d"'+changeNotNullString(null!=a?a.number:"")+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel \x3e\u4e70\u5165\u5355\u4ef7(\u5143)\x3cspan style\x3d"font-size: 10px;"\x3e\x3cfont color\x3d"red"\x3e*\x3c/font\x3e\u5fc5\u586b\x3c/span\x3e\x3c/label\x3e\x3cinput empty\x3d"false" type\x3d"number" class\x3d"form-control" name\x3d"price" placeholder\x3d"\u8bf7\u8f93\u5165\u80a1\u7968\u4e70\u5165\u5355\u4ef7" value\x3d"'+changeNotNullString(null!=a?a.price:"")+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel for\x3d"birth_day"\x3e\u5356\u51fa\u80a1\u7968\u65f6\u95f4\x3cspan style\x3d"font-size: 10px;"\x3e\x3cfont color\x3d"red"\x3e*\x3c/font\x3e\u5fc5\u586b\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"col-lg-12 col-sm-12 col-md-12 col-xs-12"\x3e\x3cdiv class\x3d"col-lg-6 col-sm-6 col-md-6 col-xs-6"\x3e\x3cinput empty\x3d"false" placeholder\x3d"\u8bf7\u5148\u9009\u62e9\u4e70\u5165\u65e5\u671f" type\x3d"date" class\x3d"form-control col-lg-4 col-sm-4 col-md-4 col-xs-4"  name\x3d"modify_time_date" value\x3d"'+changeNotNullString(null!=a?a.modifyDate:d)+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"col-lg-6 col-sm-6 col-md-6 col-xs-6"\x3e\x3cinput empty\x3d"false" placeholder\x3d"\u8bf7\u5148\u9009\u62e9\u4e70\u5165\u65f6\u95f4" type\x3d"time" class\x3d"form-control col-lg-4 col-sm-4 col-md-4 col-xs-4" name\x3d"modify_time" value\x3d"'+changeNotNullString(null!=a?a.modifyTime:c)+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form';$(".modal-body-stock-buy-operate").html(b);$("#stock-buy-operate").modal("show")}function stockBuyEdit(d,c,b,a){stopEventClick(c);stockBuyAdd(d,c,b,a)}function stockBuyDelete(d,c,b,a){stopEventClick(c);layer.confirm("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8be5\u80a1\u7968\u8d2d\u4e70\u8bb0\u5f55\u5417\uff1f\u6b64\u662f\u4e0d\u53ef\u9006\u884c\u4e3a\uff0c\u8bf7\u614e\u91cd!",{btn:["\u786e\u5b9a","\u70b9\u9519\u4e86"]},function(){var c=layer.load("\u52aa\u529b\u52a0\u8f7d\u4e2d\u2026");$.ajax({type:"DELETE",url:"/stock/"+b+"/buy/"+a,dataType:"json",beforeSend:function(){},success:function(a){layer.close(c);null!=a&&a.isSuccess?(layer.msg(a.message),window.location.reload()):ajaxError(a);console.log(a)},error:function(a){layer.close(c);ajaxError(a)}})},function(){})}function stockSellAdd(d,c,b,a,e){stopEventClick(c);d=(new Date).Format("yyyy-MM-dd");c=(new Date).Format("HH:mm");b=parseInt(b);a=parseInt(a);var f=0<=e;e=f?initData[b].buys[a].sells[e]:null;b='\x3cform role\x3d"form" id\x3d"stockSellForm" stock-sell-id\x3d"'+(f?e.id:0)+'" stock-id\x3d"'+initData[b].id+'" stock-buy-id\x3d"'+initData[b].buys[a].id+'"\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel \x3e\u5356\u51fa\u6570\u91cf(\u80a1)\x3cspan style\x3d"font-size: 10px;"\x3e\x3cfont color\x3d"red"\x3e*\x3c/font\x3e\u5fc5\u586b\x3c/span\x3e\x3c/label\x3e\x3cinput empty\x3d"false" type\x3d"text" class\x3d"form-control" name\x3d"number" placeholder\x3d"\u8bf7\u8f93\u5165\u80a1\u7968\u5356\u51fa\u6570\u91cf" value\x3d"'+changeNotNullString(null!=e?e.number:"")+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel \x3e\u5356\u51fa\u5355\u4ef7(\u5143)\x3cspan style\x3d"font-size: 10px;"\x3e\x3cfont color\x3d"red"\x3e*\x3c/font\x3e\u5fc5\u586b\x3c/span\x3e\x3c/label\x3e\x3cinput empty\x3d"false" type\x3d"number" class\x3d"form-control" name\x3d"price" placeholder\x3d"\u8bf7\u8f93\u5165\u80a1\u7968\u5356\u51fa\u5355\u4ef7" value\x3d"'+changeNotNullString(null!=e?e.price:"")+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel for\x3d"birth_day"\x3e\u5356\u51fa\u65f6\u95f4\x3cspan style\x3d"font-size: 10px;"\x3e\x3cfont color\x3d"red"\x3e*\x3c/font\x3e\u5fc5\u586b\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"col-lg-12 col-sm-12 col-md-12 col-xs-12"\x3e\x3cdiv class\x3d"col-lg-6 col-sm-6 col-md-6 col-xs-6"\x3e\x3cinput empty\x3d"false" placeholder\x3d"\u8bf7\u5148\u9009\u62e9\u5356\u51fa\u65e5\u671f" type\x3d"date" class\x3d"form-control col-lg-4 col-sm-4 col-md-4 col-xs-4"  name\x3d"modify_time_date" value\x3d"'+changeNotNullString(null!=e?e.modifyDate:d)+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"col-lg-6 col-sm-6 col-md-6 col-xs-6"\x3e\x3cinput empty\x3d"false" placeholder\x3d"\u8bf7\u5148\u9009\u62e9\u5356\u51fa\u65e5\u671f" type\x3d"time" class\x3d"form-control col-lg-4 col-sm-4 col-md-4 col-xs-4" name\x3d"modify_time" value\x3d"'+changeNotNullString(null!=e?e.modifyTime:c)+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form';$(".modal-body-stock-sell-operate").html(b);$("#stock-sell-operate").modal("show")}function stockSellEdit(d,c,b,a,e){stopEventClick(c);stockSellAdd(d,c,b,a,e)}function stockSellDelete(d,c,b,a,e){stopEventClick(c);layer.confirm("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8be5\u80a1\u7968\u5356\u51fa\u8bb0\u5f55\u5417\uff1f\u6b64\u662f\u4e0d\u53ef\u9006\u884c\u4e3a\uff0c\u8bf7\u614e\u91cd!",{btn:["\u786e\u5b9a","\u70b9\u9519\u4e86"]},function(){var c=layer.load("\u52aa\u529b\u52a0\u8f7d\u4e2d\u2026");$.ajax({type:"DELETE",url:"/stock/"+b+"/buy/"+a+"/sell/"+e,dataType:"json",beforeSend:function(){},success:function(a){layer.close(c);null!=a&&a.isSuccess?(layer.msg(a.message),window.location.reload()):ajaxError(a);console.log(a)},error:function(a){layer.close(c);ajaxError(a)}})},function(){})}function stopEventClick(d){d=window.event||d;d.stopPropagation?d.stopPropagation():d.cancelBubble=!0}function stockClick(d){$(d).next("div").toggle(200)}function buyLineClick(d){d=$(d).next("tr");d.hasClass("sell-contrainer")&&d.toggle(200)};