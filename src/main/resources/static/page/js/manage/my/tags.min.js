layui.use(["layedit"],function(){$("#cloud").jQCloud([{text:"\u65c5\u6e38\u8fbe\u4eba",weight:15,html:{onclick:"cloudClick(this);"}},{text:"IT\u7cbe\u82f1",weight:9,html:{onclick:"cloudClick(this);"}},{text:"\u8d2d\u7269\u72c2\u4eba",weight:6,html:{onclick:"cloudClick(this);"}},{text:"\u5b5d\u656c\u7236\u6bcd",weight:7,html:{onclick:"cloudClick(this);"}},{text:"\u76f8\u592b\u6559\u5b50",weight:5,html:{onclick:"cloudClick(this);"}},{text:"\u5403\u8d27",weight:10,html:{onclick:"cloudClick(this);"}},{text:"\u5de5\u4f5c\u72c2",weight:5,html:{onclick:"cloudClick(this);"}},{text:"\u53ef\u751c\u53ef\u54b8",weight:12,html:{onclick:"cloudClick(this);"}},{text:"\u5065\u8eab\u8fbe\u4eba",weight:5,html:{onclick:"cloudClick(this);"}},{text:"\u4fee\u8eab\u517b\u6027",weight:10,html:{onclick:"cloudClick(this);"}},{text:"\u5b66\u4e60",weight:3,html:{onclick:"cloudClick(this);"}},{text:"\u8fd0\u52a8",weight:5,html:{onclick:"cloudClick(this);"}},{text:"\u8bfb\u4e66",weight:7,html:{onclick:"cloudClick(this);"}},{text:"\u4ea4\u53cb",weight:9,html:{onclick:"cloudClick(this);"}},{text:"\u9738\u9053\u603b\u88c1",weight:13,html:{onclick:"cloudClick(this);"}},{text:"\u6a21\u7279",weight:11,html:{onclick:"cloudClick(this);"}},{text:"\u533b\u751f",weight:2,html:{onclick:"cloudClick(this);"}},{text:"\u6559\u4e66\u80b2\u4eba",weight:5,html:{onclick:"cloudClick(this);"}},{text:"\u591c\u732b\u5b50",weight:8,html:{onclick:"cloudClick(this);"}},{text:"\u7f51\u7edc\u7ea2\u4eba",weight:10,html:{onclick:"cloudClick(this);"}}]);$("body").on("mouseenter","#tags-contrainer button",function(){var a=this.innerText;$(this).html(a+'\x3cspan class\x3d"layui-badge"\x3ex\x3c/span\x3e');$(this).attr("onclick","deleteTag(this);")});$("body").on("mouseleave","#tags-contrainer button",function(){$(this).find("span").remove()})});function addCustomTag(){layer.prompt({title:"\u8bf7\u586b\u5199\u81ea\u5b9a\u4e49\u6807\u7b7e",formType:2},function(a,b){layer.close(b);8<a.length?layer.msg("\u81ea\u5b9a\u4e49\u6807\u7b7e\u4e0d\u80fd\u8d85\u8fc78\u4e2a\u5b57\u7b26"):addTag(a)})}function cloudClick(a){a=$(a);addTag(a.text())}function addTag(a){if(isEmpty(a))layer.msg("\u6dfb\u52a0\u6807\u7b7e\u4e0d\u80fd\u4e3a\u7a7a");else{var b=$("#tags-contrainer button");if(0<b.length){if(10==b.length){layer.msg("\u76ee\u524d\u4e00\u4e2a\u4eba\u53ea\u80fd\u6dfb\u52a010\u4e2a\u6807\u7b7e\u3002");return}for(var c=0;c<b.length;c++)if($(b[c]).text()==a){layer.msg("\u8be5\u6807\u7b7e\u5df2\u7ecf\u5b58\u5728\uff0c\u65e0\u9700\u91cd\u590d\u6dfb\u52a0\uff01");return}}$("#tags-contrainer").append('\x3cbutton type\x3d"button" class\x3d"layui-btn layui-btn-xs layui-btn-normal"\x3e'+a+"\x3c/button\x3e");ifHasTag()}}function ifHasTag(){0<$("#tags-contrainer button").length?($("#no-tag").hide(),$(".upload-tags").show()):($("#no-tag").show(),$(".upload-tags").hide())}function deleteTag(a){$(a).closest("button").remove();ifHasTag()}function uploadTags(){var a=$("#tags-contrainer button");if(0==a.length)layer.msg("\u60a8\u8fd8\u6ca1\u6709\u8981\u63d0\u4ea4\u7684\u6807\u7b7e");else{for(var b="",c=0;c<a.length;c++)b=b+$(a[c]).text()+",";var b=deleteLastStr(b),d=layer.load(2,{shade:[.1,"#fff"]});$.ajax({type:"POST",url:"/my/manage/my/tags/save",data:{tags:b,tags:b},dataType:"json",success:function(a){layer.close(d);a.isSuccess?(layer.msg(a.message+" 2\u79d2\u540e\u81ea\u52a8\u5237\u65b0"),reloadPage(2E3)):ajaxError(a)},error:function(a){layer.close(d);ajaxError(a)}})}};